{
  "version": 4,
  "terraform_version": "1.4.2",
  "serial": 115,
  "lineage": "042eb2d4-f305-fe88-6ef4-81194efad20b",
  "outputs": {},
  "resources": [
    {
      "module": "module.applications.module.helm.module.grafana",
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "example",
      "provider": "module.applications.provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "loki_dashboard.json": "{\n    \"annotations\": {\n        \"list\": [\n            {\n                \"$$hashKey\": \"object:75\",\n                \"builtIn\": 1,\n                \"datasource\": \"-- Grafana --\",\n                \"enable\": true,\n                \"hide\": true,\n                \"iconColor\": \"rgba(0, 211, 255, 1)\",\n                \"name\": \"Annotations \u0026 Alerts\",\n                \"type\": \"dashboard\"\n            }\n        ]\n    },\n    \"description\": \"Loki - Log Dashboards\",\n    \"editable\": false,\n    \"gnetId\": 13639,\n    \"graphTooltip\": 0,\n    \"id\": null,\n    \"iteration\": 1608932746420,\n    \"links\": [\n        {\n            \"$$hashKey\": \"object:59\",\n            \"icon\": \"bolt\",\n            \"includeVars\": true,\n            \"keepTime\": true,\n            \"tags\": [],\n            \"targetBlank\": true,\n            \"title\": \"View In Explore\",\n            \"type\": \"link\",\n            \"url\": \"/explore?orgId=1\u0026left=[\\\"now-1h\\\",\\\"now\\\",\\\"grafana-loki\\\",{\\\"expr\\\":\\\"{job=\\\\\\\"$app\\\\\\\"}\\\"},{\\\"ui\\\":[true,true,true,\\\"none\\\"]}]\"\n        },\n        {\n            \"$$hashKey\": \"object:61\",\n            \"icon\": \"external link\",\n            \"tags\": [],\n            \"targetBlank\": true,\n            \"title\": \"Learn LogQL\",\n            \"type\": \"link\",\n            \"url\": \"https://grafana.com/docs/loki/latest/logql/\"\n        }\n    ],\n    \"panels\": [\n        {\n            \"aliasColors\": {},\n            \"bars\": true,\n            \"dashLength\": 10,\n            \"dashes\": false,\n            \"datasource\": {\n                \"type\": \"loki\",\n                \"uid\": \"grafana-loki\"\n            },\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {},\n                    \"links\": []\n                },\n                \"overrides\": []\n            },\n            \"fill\": 1,\n            \"fillGradient\": 0,\n            \"gridPos\": {\n                \"h\": 3,\n                \"w\": 24,\n                \"x\": 0,\n                \"y\": 0\n            },\n            \"hiddenSeries\": false,\n            \"id\": 6,\n            \"legend\": {\n                \"avg\": false,\n                \"current\": false,\n                \"max\": false,\n                \"min\": false,\n                \"show\": false,\n                \"total\": false,\n                \"values\": false\n            },\n            \"lines\": false,\n            \"linewidth\": 1,\n            \"nullPointMode\": \"null\",\n            \"percentage\": false,\n            \"pluginVersion\": \"7.1.0\",\n            \"pointradius\": 2,\n            \"points\": false,\n            \"renderer\": \"flot\",\n            \"seriesOverrides\": [],\n            \"spaceLength\": 10,\n            \"stack\": false,\n            \"steppedLine\": false,\n            \"targets\": [\n                {\n                    \"expr\": \"sum(count_over_time({job=\\\"$app\\\"} |= \\\"$search\\\" [$__interval]))\",\n                    \"legendFormat\": \"\",\n                    \"refId\": \"A\"\n                }\n            ],\n            \"thresholds\": [],\n            \"timeFrom\": null,\n            \"timeRegions\": [],\n            \"timeShift\": null,\n            \"title\": \"\",\n            \"tooltip\": {\n                \"shared\": true,\n                \"sort\": 0,\n                \"value_type\": \"individual\"\n            },\n            \"type\": \"graph\",\n            \"xaxis\": {\n                \"buckets\": null,\n                \"mode\": \"time\",\n                \"name\": null,\n                \"show\": true,\n                \"values\": []\n            },\n            \"yaxes\": [\n                {\n                    \"$$hashKey\": \"object:168\",\n                    \"format\": \"short\",\n                    \"label\": null,\n                    \"logBase\": 1,\n                    \"max\": null,\n                    \"min\": null,\n                    \"show\": false\n                },\n                {\n                    \"$$hashKey\": \"object:169\",\n                    \"format\": \"short\",\n                    \"label\": null,\n                    \"logBase\": 1,\n                    \"max\": null,\n                    \"min\": null,\n                    \"show\": false\n                }\n            ],\n            \"yaxis\": {\n                \"align\": false,\n                \"alignLevel\": null\n            }\n        },\n        {\n            \"datasource\": {\n                \"type\": \"loki\",\n                \"uid\": \"grafana-loki\"\n            },\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {}\n                },\n                \"overrides\": []\n            },\n            \"gridPos\": {\n                \"h\": 25,\n                \"w\": 24,\n                \"x\": 0,\n                \"y\": 3\n            },\n            \"id\": 2,\n            \"maxDataPoints\": \"\",\n            \"options\": {\n                \"showLabels\": false,\n                \"showTime\": true,\n                \"sortOrder\": \"Descending\",\n                \"wrapLogMessage\": false\n            },\n            \"targets\": [\n                {\n                    \"expr\": \"{job=\\\"$app\\\", pod=\\\"$pod\\\"} | json | line_format \\\"{{.log}}\\\" |= \\\"$search\\\"\",\n                    \"hide\": false,\n                    \"legendFormat\": \"\",\n                    \"refId\": \"A\"\n                }\n            ],\n            \"timeFrom\": null,\n            \"timeShift\": null,\n            \"title\": \"\",\n            \"transparent\": true,\n            \"type\": \"logs\"\n        }\n    ],\n    \"refresh\": false,\n    \"schemaVersion\": 26,\n    \"style\": \"dark\",\n    \"tags\": [],\n    \"templating\": {\n        \"list\": [\n            {\n                \"allValue\": null,\n                \"current\": {\n                    \"selected\": false,\n                    \"text\": \"default/periscope-service\",\n                    \"value\": \"default/periscope-service\"\n                },\n                \"datasource\": {\n                    \"type\": \"loki\",\n                    \"uid\": \"grafana-loki\"\n                },\n                \"definition\": \"label_values(job)\",\n                \"hide\": 0,\n                \"includeAll\": false,\n                \"label\": \"App\",\n                \"multi\": false,\n                \"name\": \"app\",\n                \"options\": [],\n                \"query\": {\n                    \"label\": \"job\",\n                    \"refId\": \"LokiVariableQueryEditor-VariableQuery\",\n                    \"stream\": \"\",\n                    \"type\": 1\n                },\n                \"refresh\": 1,\n                \"regex\": \"\",\n                \"skipUrlSync\": false,\n                \"sort\": 0,\n                \"tagValuesQuery\": \"\",\n                \"tags\": [],\n                \"tagsQuery\": \"\",\n                \"type\": \"query\",\n                \"useTags\": false\n            },\n            {\n                \"current\": {\n                    \"selected\": false,\n                    \"text\": \"\",\n                    \"value\": \"\"\n                },\n                \"hide\": 0,\n                \"label\": \"Pod name\",\n                \"name\": \"pod\",\n                \"options\": [\n                    {\n                        \"selected\": true,\n                        \"text\": \"\",\n                        \"value\": \"\"\n                    }\n                ],\n                \"query\": \"\",\n                \"skipUrlSync\": false,\n                \"type\": \"textbox\"\n            },\n            {\n                \"current\": {\n                    \"selected\": false,\n                    \"text\": \"\",\n                    \"value\": \"\"\n                },\n                \"hide\": 0,\n                \"label\": \"String Match\",\n                \"name\": \"search\",\n                \"options\": [\n                    {\n                        \"selected\": true,\n                        \"text\": \"\",\n                        \"value\": \"\"\n                    }\n                ],\n                \"query\": \"\",\n                \"skipUrlSync\": false,\n                \"type\": \"textbox\"\n            }\n        ]\n    },\n    \"time\": {\n        \"from\": \"now-1h\",\n        \"to\": \"now\"\n    },\n    \"timepicker\": {\n        \"hidden\": false,\n        \"refresh_intervals\": [\n            \"10s\",\n            \"30s\",\n            \"1m\",\n            \"5m\",\n            \"15m\",\n            \"30m\",\n            \"1h\",\n            \"2h\",\n            \"1d\"\n        ]\n    },\n    \"timezone\": \"\",\n    \"title\": \"Logs / App\",\n    \"uid\": \"sadlil-loki-apps-dashboard\",\n    \"version\": 13\n}",
              "periscope_dashboard.json": "{\n    \"annotations\": {\n        \"list\": [\n            {\n                \"builtIn\": 1,\n                \"datasource\": {\n                    \"type\": \"grafana\",\n                    \"uid\": \"-- Grafana --\"\n                },\n                \"enable\": true,\n                \"hide\": true,\n                \"iconColor\": \"rgba(0, 211, 255, 1)\",\n                \"name\": \"Annotations \u0026 Alerts\",\n                \"target\": {\n                    \"limit\": 100,\n                    \"matchAny\": false,\n                    \"tags\": [],\n                    \"type\": \"dashboard\"\n                },\n                \"type\": \"dashboard\"\n            }\n        ]\n    },\n    \"editable\": true,\n    \"fiscalYearStartMonth\": 0,\n    \"graphTooltip\": 0,\n    \"id\": 27,\n    \"links\": [],\n    \"liveNow\": false,\n    \"panels\": [\n        {\n            \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"prometheus\"\n            },\n            \"description\": \"\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"color\": {\n                        \"mode\": \"palette-classic\"\n                    },\n                    \"custom\": {\n                        \"axisCenteredZero\": false,\n                        \"axisColorMode\": \"text\",\n                        \"axisLabel\": \"\",\n                        \"axisPlacement\": \"auto\",\n                        \"barAlignment\": 0,\n                        \"drawStyle\": \"line\",\n                        \"fillOpacity\": 0,\n                        \"gradientMode\": \"none\",\n                        \"hideFrom\": {\n                            \"legend\": false,\n                            \"tooltip\": false,\n                            \"viz\": false\n                        },\n                        \"lineInterpolation\": \"linear\",\n                        \"lineStyle\": {\n                            \"fill\": \"solid\"\n                        },\n                        \"lineWidth\": 1,\n                        \"pointSize\": 5,\n                        \"scaleDistribution\": {\n                            \"type\": \"linear\"\n                        },\n                        \"showPoints\": \"auto\",\n                        \"spanNulls\": true,\n                        \"stacking\": {\n                            \"group\": \"A\",\n                            \"mode\": \"none\"\n                        },\n                        \"thresholdsStyle\": {\n                            \"mode\": \"off\"\n                        }\n                    },\n                    \"mappings\": [],\n                    \"thresholds\": {\n                        \"mode\": \"absolute\",\n                        \"steps\": [\n                            {\n                                \"color\": \"green\",\n                                \"value\": null\n                            },\n                            {\n                                \"color\": \"red\",\n                                \"value\": 80\n                            }\n                        ]\n                    }\n                },\n                \"overrides\": []\n            },\n            \"gridPos\": {\n                \"h\": 9,\n                \"w\": 12,\n                \"x\": 0,\n                \"y\": 0\n            },\n            \"id\": 2,\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [],\n                    \"displayMode\": \"list\",\n                    \"placement\": \"right\",\n                    \"showLegend\": true\n                },\n                \"tooltip\": {\n                    \"mode\": \"single\",\n                    \"sort\": \"none\"\n                }\n            },\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"prometheus\"\n                    },\n                    \"editorMode\": \"builder\",\n                    \"exemplar\": false,\n                    \"expr\": \"sum(samples_periscope_service_counter)\",\n                    \"format\": \"table\",\n                    \"instant\": false,\n                    \"legendFormat\": \"\",\n                    \"range\": true,\n                    \"refId\": \"A\"\n                }\n            ],\n            \"title\": \"Service Counter\",\n            \"transparent\": true,\n            \"type\": \"timeseries\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"prometheus\"\n            },\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"color\": {\n                        \"mode\": \"palette-classic\"\n                    },\n                    \"custom\": {\n                        \"axisCenteredZero\": false,\n                        \"axisColorMode\": \"text\",\n                        \"axisLabel\": \"\",\n                        \"axisPlacement\": \"auto\",\n                        \"barAlignment\": -1,\n                        \"drawStyle\": \"line\",\n                        \"fillOpacity\": 0,\n                        \"gradientMode\": \"none\",\n                        \"hideFrom\": {\n                            \"legend\": false,\n                            \"tooltip\": false,\n                            \"viz\": false\n                        },\n                        \"lineInterpolation\": \"stepBefore\",\n                        \"lineWidth\": 1,\n                        \"pointSize\": 5,\n                        \"scaleDistribution\": {\n                            \"type\": \"linear\"\n                        },\n                        \"showPoints\": \"auto\",\n                        \"spanNulls\": true,\n                        \"stacking\": {\n                            \"group\": \"A\",\n                            \"mode\": \"none\"\n                        },\n                        \"thresholdsStyle\": {\n                            \"mode\": \"off\"\n                        }\n                    },\n                    \"mappings\": [],\n                    \"thresholds\": {\n                        \"mode\": \"absolute\",\n                        \"steps\": [\n                            {\n                                \"color\": \"purple\",\n                                \"value\": null\n                            },\n                            {\n                                \"color\": \"red\",\n                                \"value\": 80\n                            }\n                        ]\n                    }\n                },\n                \"overrides\": []\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 12,\n                \"x\": 12,\n                \"y\": 0\n            },\n            \"id\": 4,\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [],\n                    \"displayMode\": \"list\",\n                    \"placement\": \"bottom\",\n                    \"showLegend\": true\n                },\n                \"tooltip\": {\n                    \"mode\": \"single\",\n                    \"sort\": \"none\"\n                }\n            },\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"prometheus\"\n                    },\n                    \"editorMode\": \"code\",\n                    \"expr\": \"count(count by (pod) (samples_periscope_service_counter))\",\n                    \"legendFormat\": \"__auto\",\n                    \"range\": true,\n                    \"refId\": \"A\"\n                }\n            ],\n            \"title\": \"Number of Replicas Over Time\",\n            \"transparent\": true,\n            \"type\": \"timeseries\"\n        }\n    ],\n    \"schemaVersion\": 37,\n    \"style\": \"dark\",\n    \"tags\": [],\n    \"templating\": {\n        \"list\": []\n    },\n    \"time\": {\n        \"from\": \"now-6h\",\n        \"to\": \"now\"\n    },\n    \"timepicker\": {},\n    \"timezone\": \"\",\n    \"title\": \"Service / Periscope / Custom\",\n    \"uid\": \"z62SPMf4z\",\n    \"version\": 2,\n    \"weekStart\": \"\"\n}"
            },
            "id": "monitoring/grafana-custom-dashboards",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "grafana_dashboard": "1"
                },
                "name": "grafana-custom-dashboards",
                "namespace": "monitoring",
                "resource_version": "18274",
                "uid": "c0a3fb6b-eb6f-4f99-bd50-26f297a63ce7"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.applications.module.helm.module.loki",
      "mode": "managed",
      "type": "helm_release",
      "name": "kube-prometheus",
      "provider": "module.applications.provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "loki-stack",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "kube-grafana-loki",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "v2.6.1",
                "chart": "loki-stack",
                "name": "kube-grafana-loki",
                "namespace": "monitoring",
                "revision": 1,
                "values": "null",
                "version": "2.9.9"
              }
            ],
            "name": "kube-grafana-loki",
            "namespace": "monitoring",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://grafana.github.io/helm-charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "2.9.9",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.applications.module.helm.module.pometheus",
      "mode": "managed",
      "type": "helm_release",
      "name": "kube-prometheus",
      "provider": "module.applications.provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "kube-prometheus-stack",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "kube-prometheus-stackr",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "v0.63.0",
                "chart": "kube-prometheus-stack",
                "name": "kube-prometheus-stackr",
                "namespace": "monitoring",
                "revision": 1,
                "values": "{\"grafana\":{\"additionalDataSources\":[{\"name\":\"grafana-loki\",\"orgId\":1,\"type\":\"loki\",\"uid\":\"grafana-loki\",\"url\":\"http://kube-grafana-loki.monitoring:3100\",\"version\":1}]}}",
                "version": "45.7.1"
              }
            ],
            "name": "kube-prometheus-stackr",
            "namespace": "monitoring",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://prometheus-community.github.io/helm-charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "grafana:\n  additionalDataSources:\n    - name: grafana-loki\n      uid: grafana-loki\n      type: loki\n      orgId: 1\n      url: \"http://kube-grafana-loki.monitoring:3100\"\n      version: 1\n"
            ],
            "verify": false,
            "version": "45.7.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.applications.module.helm.module.pometheus",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "monitoring",
      "provider": "module.applications.provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "monitoring",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "monitoring",
                "resource_version": "11559",
                "uid": "e802a7d4-3265-4e8a-9478-167efd2d4103"
              }
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.applications.module.helm.module.servicemonitor",
      "mode": "managed",
      "type": "kubernetes_manifest",
      "name": "prometheus_service_monitor_periscope",
      "provider": "module.applications.provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "computed_fields": null,
            "field_manager": [],
            "manifest": {
              "value": {
                "apiVersion": "monitoring.coreos.com/v1",
                "kind": "ServiceMonitor",
                "metadata": {
                  "labels": {
                    "release": "kube-prometheus-stackr"
                  },
                  "name": "periscope-service-monitor",
                  "namespace": "monitoring"
                },
                "spec": {
                  "endpoints": [
                    {
                      "port": "metrics"
                    }
                  ],
                  "namespaceSelector": {
                    "any": "true"
                  },
                  "selector": {
                    "matchLabels": {
                      "prometheus.io/scrape": "true"
                    }
                  }
                }
              },
              "type": [
                "object",
                {
                  "apiVersion": "string",
                  "kind": "string",
                  "metadata": [
                    "object",
                    {
                      "labels": [
                        "object",
                        {
                          "release": "string"
                        }
                      ],
                      "name": "string",
                      "namespace": "string"
                    }
                  ],
                  "spec": [
                    "object",
                    {
                      "endpoints": [
                        "tuple",
                        [
                          [
                            "object",
                            {
                              "port": "string"
                            }
                          ]
                        ]
                      ],
                      "namespaceSelector": [
                        "object",
                        {
                          "any": "string"
                        }
                      ],
                      "selector": [
                        "object",
                        {
                          "matchLabels": [
                            "object",
                            {
                              "prometheus.io/scrape": "string"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "object": {
              "value": {
                "apiVersion": "monitoring.coreos.com/v1",
                "kind": "ServiceMonitor",
                "metadata": {
                  "annotations": null,
                  "creationTimestamp": null,
                  "deletionGracePeriodSeconds": null,
                  "deletionTimestamp": null,
                  "finalizers": null,
                  "generateName": null,
                  "generation": null,
                  "labels": {
                    "release": "kube-prometheus-stackr"
                  },
                  "managedFields": null,
                  "name": "periscope-service-monitor",
                  "namespace": "monitoring",
                  "ownerReferences": null,
                  "resourceVersion": null,
                  "selfLink": null,
                  "uid": null
                },
                "spec": {
                  "attachMetadata": {
                    "node": null
                  },
                  "endpoints": [
                    {
                      "authorization": {
                        "credentials": {
                          "key": null,
                          "name": null,
                          "optional": null
                        },
                        "type": null
                      },
                      "basicAuth": {
                        "password": {
                          "key": null,
                          "name": null,
                          "optional": null
                        },
                        "username": {
                          "key": null,
                          "name": null,
                          "optional": null
                        }
                      },
                      "bearerTokenFile": null,
                      "bearerTokenSecret": {
                        "key": null,
                        "name": null,
                        "optional": null
                      },
                      "enableHttp2": null,
                      "filterRunning": null,
                      "followRedirects": null,
                      "honorLabels": null,
                      "honorTimestamps": null,
                      "interval": null,
                      "metricRelabelings": null,
                      "oauth2": {
                        "clientId": {
                          "configMap": {
                            "key": null,
                            "name": null,
                            "optional": null
                          },
                          "secret": {
                            "key": null,
                            "name": null,
                            "optional": null
                          }
                        },
                        "clientSecret": {
                          "key": null,
                          "name": null,
                          "optional": null
                        },
                        "endpointParams": null,
                        "scopes": null,
                        "tokenUrl": null
                      },
                      "params": null,
                      "path": null,
                      "port": "metrics",
                      "proxyUrl": null,
                      "relabelings": null,
                      "scheme": null,
                      "scrapeTimeout": null,
                      "targetPort": null,
                      "tlsConfig": {
                        "ca": {
                          "configMap": {
                            "key": null,
                            "name": null,
                            "optional": null
                          },
                          "secret": {
                            "key": null,
                            "name": null,
                            "optional": null
                          }
                        },
                        "caFile": null,
                        "cert": {
                          "configMap": {
                            "key": null,
                            "name": null,
                            "optional": null
                          },
                          "secret": {
                            "key": null,
                            "name": null,
                            "optional": null
                          }
                        },
                        "certFile": null,
                        "insecureSkipVerify": null,
                        "keyFile": null,
                        "keySecret": {
                          "key": null,
                          "name": null,
                          "optional": null
                        },
                        "serverName": null
                      }
                    }
                  ],
                  "jobLabel": null,
                  "labelLimit": null,
                  "labelNameLengthLimit": null,
                  "labelValueLengthLimit": null,
                  "namespaceSelector": {
                    "any": true,
                    "matchNames": null
                  },
                  "podTargetLabels": null,
                  "sampleLimit": null,
                  "selector": {
                    "matchExpressions": null,
                    "matchLabels": {
                      "prometheus.io/scrape": "true"
                    }
                  },
                  "targetLabels": null,
                  "targetLimit": null
                }
              },
              "type": [
                "object",
                {
                  "apiVersion": "string",
                  "kind": "string",
                  "metadata": [
                    "object",
                    {
                      "annotations": [
                        "map",
                        "string"
                      ],
                      "creationTimestamp": "string",
                      "deletionGracePeriodSeconds": "number",
                      "deletionTimestamp": "string",
                      "finalizers": [
                        "list",
                        "string"
                      ],
                      "generateName": "string",
                      "generation": "number",
                      "labels": [
                        "map",
                        "string"
                      ],
                      "managedFields": [
                        "tuple",
                        [
                          [
                            "object",
                            {
                              "apiVersion": "string",
                              "fieldsType": "string",
                              "fieldsV1": "dynamic",
                              "manager": "string",
                              "operation": "string",
                              "subresource": "string",
                              "time": "string"
                            }
                          ]
                        ]
                      ],
                      "name": "string",
                      "namespace": "string",
                      "ownerReferences": [
                        "list",
                        [
                          "object",
                          {
                            "apiVersion": "string",
                            "blockOwnerDeletion": "bool",
                            "controller": "bool",
                            "kind": "string",
                            "name": "string",
                            "uid": "string"
                          }
                        ]
                      ],
                      "resourceVersion": "string",
                      "selfLink": "string",
                      "uid": "string"
                    }
                  ],
                  "spec": [
                    "object",
                    {
                      "attachMetadata": [
                        "object",
                        {
                          "node": "bool"
                        }
                      ],
                      "endpoints": [
                        "list",
                        [
                          "object",
                          {
                            "authorization": [
                              "object",
                              {
                                "credentials": [
                                  "object",
                                  {
                                    "key": "string",
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ],
                                "type": "string"
                              }
                            ],
                            "basicAuth": [
                              "object",
                              {
                                "password": [
                                  "object",
                                  {
                                    "key": "string",
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ],
                                "username": [
                                  "object",
                                  {
                                    "key": "string",
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ]
                              }
                            ],
                            "bearerTokenFile": "string",
                            "bearerTokenSecret": [
                              "object",
                              {
                                "key": "string",
                                "name": "string",
                                "optional": "bool"
                              }
                            ],
                            "enableHttp2": "bool",
                            "filterRunning": "bool",
                            "followRedirects": "bool",
                            "honorLabels": "bool",
                            "honorTimestamps": "bool",
                            "interval": "string",
                            "metricRelabelings": [
                              "list",
                              [
                                "object",
                                {
                                  "action": "string",
                                  "modulus": "number",
                                  "regex": "string",
                                  "replacement": "string",
                                  "separator": "string",
                                  "sourceLabels": [
                                    "list",
                                    "string"
                                  ],
                                  "targetLabel": "string"
                                }
                              ]
                            ],
                            "oauth2": [
                              "object",
                              {
                                "clientId": [
                                  "object",
                                  {
                                    "configMap": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string",
                                        "optional": "bool"
                                      }
                                    ],
                                    "secret": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string",
                                        "optional": "bool"
                                      }
                                    ]
                                  }
                                ],
                                "clientSecret": [
                                  "object",
                                  {
                                    "key": "string",
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ],
                                "endpointParams": [
                                  "map",
                                  "string"
                                ],
                                "scopes": [
                                  "list",
                                  "string"
                                ],
                                "tokenUrl": "string"
                              }
                            ],
                            "params": [
                              "map",
                              [
                                "list",
                                "string"
                              ]
                            ],
                            "path": "string",
                            "port": "string",
                            "proxyUrl": "string",
                            "relabelings": [
                              "list",
                              [
                                "object",
                                {
                                  "action": "string",
                                  "modulus": "number",
                                  "regex": "string",
                                  "replacement": "string",
                                  "separator": "string",
                                  "sourceLabels": [
                                    "list",
                                    "string"
                                  ],
                                  "targetLabel": "string"
                                }
                              ]
                            ],
                            "scheme": "string",
                            "scrapeTimeout": "string",
                            "targetPort": "string",
                            "tlsConfig": [
                              "object",
                              {
                                "ca": [
                                  "object",
                                  {
                                    "configMap": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string",
                                        "optional": "bool"
                                      }
                                    ],
                                    "secret": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string",
                                        "optional": "bool"
                                      }
                                    ]
                                  }
                                ],
                                "caFile": "string",
                                "cert": [
                                  "object",
                                  {
                                    "configMap": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string",
                                        "optional": "bool"
                                      }
                                    ],
                                    "secret": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string",
                                        "optional": "bool"
                                      }
                                    ]
                                  }
                                ],
                                "certFile": "string",
                                "insecureSkipVerify": "bool",
                                "keyFile": "string",
                                "keySecret": [
                                  "object",
                                  {
                                    "key": "string",
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ],
                                "serverName": "string"
                              }
                            ]
                          }
                        ]
                      ],
                      "jobLabel": "string",
                      "labelLimit": "number",
                      "labelNameLengthLimit": "number",
                      "labelValueLengthLimit": "number",
                      "namespaceSelector": [
                        "object",
                        {
                          "any": "bool",
                          "matchNames": [
                            "list",
                            "string"
                          ]
                        }
                      ],
                      "podTargetLabels": [
                        "list",
                        "string"
                      ],
                      "sampleLimit": "number",
                      "selector": [
                        "object",
                        {
                          "matchExpressions": [
                            "list",
                            [
                              "object",
                              {
                                "key": "string",
                                "operator": "string",
                                "values": [
                                  "list",
                                  "string"
                                ]
                              }
                            ]
                          ],
                          "matchLabels": [
                            "map",
                            "string"
                          ]
                        }
                      ],
                      "targetLabels": [
                        "list",
                        "string"
                      ],
                      "targetLimit": "number"
                    }
                  ]
                }
              ]
            },
            "timeouts": [],
            "wait": [],
            "wait_for": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.applications.module.service",
      "mode": "managed",
      "type": "kubernetes_deployment",
      "name": "periscope_service_deployment",
      "provider": "module.applications.provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/periscope-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {
                  "k8s.io/app": "periscope-service"
                },
                "name": "periscope-service",
                "namespace": "default",
                "resource_version": "11642",
                "uid": "9bb001e0-4c7b-4a3f-a4c8-5f3f43562d5f"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "5",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "k8s.io/app": "periscope-service"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {},
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "k8s.io/app": "periscope-service"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [
                              "--logtostderr"
                            ],
                            "command": [
                              "/go/bin/periscope"
                            ],
                            "env": [],
                            "env_from": [],
                            "image": "github.com/sadlil/system-samples/periscope:v0.1",
                            "image_pull_policy": "IfNotPresent",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "periscope-service",
                            "port": [
                              {
                                "container_port": 6443,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "metrics",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {
                                  "cpu": "500m",
                                  "memory": "512Mi"
                                },
                                "requests": {
                                  "cpu": "250m",
                                  "memory": "50Mi"
                                }
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [],
                        "topology_spread_constraint": [],
                        "volume": []
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"
        }
      ]
    },
    {
      "module": "module.applications.module.service",
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "periscope_service_service",
      "provider": "module.applications.provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/periscope-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s.io/app": "periscope-service",
                  "prometheus.io/scrape": "true"
                },
                "name": "periscope-service",
                "namespace": "default",
                "resource_version": "11562",
                "uid": "442668ab-c8f2-43e6-b44c-5baefd9e55b1"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.103.175.23",
                "cluster_ips": [
                  "10.103.175.23"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "metrics",
                    "node_port": 0,
                    "port": 6443,
                    "protocol": "TCP",
                    "target_port": "6443"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s.io/app": "periscope-service"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    }
  ],
  "check_results": null
}
